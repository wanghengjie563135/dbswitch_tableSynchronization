{"version":3,"sources":["webpack:///src/views/task/update.vue","webpack:///./src/views/task/update.vue?3a41","webpack:///./src/views/task/update.vue"],"names":["update","data","cronPopover","updateform","id","name","description","scheduleMode","cronExpression","sourceConnectionId","sourceSchema","includeOrExclude","sourceTables","tableNameMapper","columnNameMapper","targetConnectionId","targetDropTable","targetSchema","batchSize","rules","required","message","trigger","type","can_go_back","active","sourceConnection","targetConnection","sourceConnectionSchemas","sourceSchemaTables","targetConnectionSchemas","tableNameMapperDialogVisible","columnNameMapperDialogVisible","tableNamesMapperData","columnNamesMapperData","preiveSeeTableNameList","preiveTableName","methods","handleClose","done","next","this","pre","handleGoBack","$router","go","loadConnections","_this","connectionNameList","$http","method","url","then","res","code","alert","console","log","loadAssignmentDetail","_this2","get","$route","query","detail","configuration","selectChangedSourceConnection","selectUpdateChangedSourceSchema","selectChangedTargetConnection","changeUpdateCronExpression","value","_this3","find","item","$message","error","_this4","_this5","addTableNameMapperListRow","push","fromPattern","toValue","deleteTableNameMapperListItem","index","splice","previewTableNameMapList","_this6","length","headers","Content-Type","stringify_default","schemaName","isInclude","tableNames","nameMapper","addColumnNameMapperListRow","deleteColumnNameMapperListItem","previewColumnNameMapList","_this7","JSON","parse","i","one","some","queryPreviewColumnNameMapperList","_this8","tableName","handleSave","_this9","$refs","validate","valid","config","created","task_update","render","_vm","_h","$createElement","_c","_self","attrs","finish-status","title","_v","ref","model","status-icon","directives","rawName","expression","staticStyle","width","label","label-width","prop","auto-complete","callback","$$v","$set","rows","span","i18n","on","change","close","$event","slot","disabled","placeholder","click","_e","_l","key","placement","staticClass","multiple","round","margin-top","size","border","height","scopedSlots","_u","fn","scope","row","$index","datas","column","label-class-name","_s","visible","showClose","before-close","update:visible","header-cell-style","background","color","min-width","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.729e286f79df81fea7d3.js","sourcesContent":["<template>\r\n  <el-card>\r\n    <el-steps :active=\"active\"\r\n              finish-status=\"success\">\r\n      <el-step title=\"基本信息配置\" />\r\n      <el-step title=\"同步源端配置\" />\r\n      <el-step title=\"目标端配置\" />\r\n      <el-step title=\"映射转换配置\" />\r\n      <el-step title=\"配置确认提交\" />\r\n    </el-steps>\r\n\r\n    <el-form :model=\"updateform\"\r\n             status-icon\r\n             :rules=\"rules\"\r\n             ref=\"updateform\">\r\n\r\n      <div v-show=\"active == 1\">\r\n        <el-form-item label=\"名称\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"name\"\r\n                      style=\"width:65%\">\r\n          <el-input v-model=\"updateform.name\"\r\n                    auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\"\r\n                      label-width=\"240px\"\r\n                      prop=\"description\"\r\n                      style=\"width:65%\">\r\n          <el-input v-model=\"updateform.description\"\r\n                    type=\"textarea\"\r\n                    :rows=\"3\"\r\n                    auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"调度方式\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"scheduleMode\"\r\n                      style=\"width:65%\">\r\n          <el-select v-model=\"updateform.scheduleMode\">\r\n            <el-option label=\"手动调度\"\r\n                       value=\"MANUAL\"></el-option>\r\n            <el-option label=\"系统调度\"\r\n                       value=\"SYSTEM_SCHEDULED\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"Cron表达式\"\r\n                      label-width=\"240px\"\r\n                      style=\"width:65%\"\r\n                      v-if=\"updateform.scheduleMode=='SYSTEM_SCHEDULED'\">\r\n          <el-col :span=\"10\">\r\n            <el-popover v-model=\"cronPopover\">\r\n              <vueCron @change=\"changeUpdateCronExpression\"\r\n                       @close=\"cronPopover=false\"\r\n                       i18n=\"cn\" />\r\n              <el-input slot=\"reference\"\r\n                        :disabled=false\r\n                        v-model=\"updateform.cronExpression\"\r\n                        placeholder=\"点击选择\"\r\n                        @click=\"cronPopover=true\" />\r\n            </el-popover>\r\n          </el-col>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-show=\"active == 2\">\r\n        <el-form-item label=\"源端数据源\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"sourceConnectionId\"\r\n                      style=\"width:65%\">\r\n          <el-select v-model=\"updateform.sourceConnectionId\"\r\n                     @change=\"selectChangedSourceConnection\"\r\n                     placeholder=\"请选择\">\r\n            <el-option v-for=\"(item,index) in connectionNameList\"\r\n                       :key=\"index\"\r\n                       :label=\"`[${item.id}]${item.name}`\"\r\n                       :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"源端模式名\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"sourceSchema\"\r\n                      style=\"width:65%\">\r\n          <el-select v-model=\"updateform.sourceSchema\"\r\n                     @change=\"selectUpdateChangedSourceSchema\"\r\n                     placeholder=\"请选择\">\r\n            <el-option v-for=\"(item,index) in sourceConnectionSchemas\"\r\n                       :key=\"index\"\r\n                       :label=\"item\"\r\n                       :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"配置方式\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"includeOrExclude\"\r\n                      style=\"width:65%\">\r\n          <el-select placeholder=\"请选择配置方式\"\r\n                     v-model=\"updateform.includeOrExclude\">\r\n            <el-option label=\"包含表\"\r\n                       value=\"INCLUDE\"></el-option>\r\n            <el-option label=\"排除表\"\r\n                       value=\"EXCLUDE\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"表名配置\"\r\n                      label-width=\"240px\"\r\n                      :required=false\r\n                      prop=\"sourceTables\"\r\n                      style=\"width:65%\">\r\n          <el-tooltip placement=\"top\">\r\n            <div slot=\"content\">\r\n              当为包含表时，选择所要精确包含的表名，如果不选则代表选择所有；当为排除表时，选择索要精确排除的表名。\r\n            </div>\r\n            <i class=\"el-icon-question\"></i>\r\n          </el-tooltip>\r\n          <el-select placeholder=\"请选择表名\"\r\n                     multiple\r\n                     v-model=\"updateform.sourceTables\">\r\n            <el-option v-for=\"(item,index) in sourceSchemaTables\"\r\n                       :key=\"index\"\r\n                       :label=\"item\"\r\n                       :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-show=\"active == 3\">\r\n        <el-form-item label=\"目的端数据源\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"targetConnectionId\"\r\n                      style=\"width:65%\">\r\n          <el-select v-model=\"updateform.targetConnectionId\"\r\n                     @change=\"selectChangedTargetConnection\"\r\n                     placeholder=\"请选择\">\r\n            <el-option v-for=\"(item,index) in connectionNameList\"\r\n                       :key=\"index\"\r\n                       :label=\"`[${item.id}]${item.name}`\"\r\n                       :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"目的端模式名\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"targetSchema\"\r\n                      style=\"width:65%\">\r\n          <el-select v-model=\"updateform.targetSchema\"\r\n                     placeholder=\"请选择\">\r\n            <el-option v-for=\"(item,index) in targetConnectionSchemas\"\r\n                       :key=\"index\"\r\n                       :label=\"item\"\r\n                       :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"数据处理批次大小\"\r\n                      label-width=\"240px\"\r\n                      :required=true\r\n                      prop=\"batchSize\"\r\n                      style=\"width:65%\">\r\n          <el-tooltip placement=\"top\">\r\n            <div slot=\"content\">\r\n              数据同步时单个批次处理的行记录总数，该值越到越占用内存空间。建议：小字段表设置为10000，大字段表设置为1000\r\n            </div>\r\n            <i class=\"el-icon-question\"></i>\r\n          </el-tooltip>\r\n          <el-select v-model=\"updateform.batchSize\">\r\n            <el-option label=1000\r\n                       :value=1000></el-option>\r\n            <el-option label=5000\r\n                       :value=5000></el-option>\r\n            <el-option label=10000\r\n                       :value=10000></el-option>\r\n            <el-option label=20000\r\n                       :value=20000></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-show=\"active == 4\">\r\n        <div class=\"tip-content\">\r\n          <p>说明：(1) 当表名映射规则记录为空时，代表目标表名与源表名的名称相同;</p>\r\n          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            (2) 当字段名映射规则记录为空时，代表目标表的字段名与源表名的字段名相同</p>\r\n        </div>\r\n        <el-button type=\"success\"\r\n                   @click=\"addTableNameMapperListRow()\"\r\n                   round>添加表名映射</el-button>\r\n        <el-button type=\"warning\"\r\n                   @click=\"previewTableNameMapList()\"\r\n                   round>预览表名映射</el-button>\r\n        <el-table :data=\"updateform.tableNameMapper\"\r\n                  size=\"mini\"\r\n                  border\r\n                  height=\"200\"\r\n                  style=\"width:90%;margin-top: 15px;\">\r\n          <template slot=\"empty\">\r\n            <span>请点击\"添加表名映射\"按钮添加表名映射关系记录</span>\r\n          </template>\r\n          <el-table-column label=\"表名匹配的正则名\"\r\n                           width=\"320\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row.fromPattern\"\r\n                        type=\"string\"> </el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"替换的目标值\"\r\n                           width=\"320\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row.toValue\"\r\n                        type=\"string\"></el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\"\r\n                           width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\"\r\n                         type=\"danger\"\r\n                         @click=\"deleteTableNameMapperListItem(scope.$index)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-button type=\"success\"\r\n                   @click=\"addColumnNameMapperListRow()\"\r\n                   round>添加字段名映射</el-button>\r\n        <el-button type=\"warning\"\r\n                   @click=\"previewColumnNameMapList()\"\r\n                   round>预览字段名映射</el-button>\r\n        <el-table :data=\"datas = updateform.columnNameMapper\"\r\n                  size=\"mini\"\r\n                  border\r\n                  height=\"200\"\r\n                  style=\"width:90%;margin-top: 15px;\">\r\n          <template slot=\"empty\">\r\n            <span>请点击\"添加字段名映射\"按钮添加字段名映射关系记录</span>\r\n          </template>\r\n          <el-table-column label=\"字段名匹配的正则名\"\r\n                           width=\"320\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row.fromPattern\"\r\n                        type=\"string\"> </el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"替换的目标值\"\r\n                           width=\"320\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row.toValue\"\r\n                        type=\"string\"></el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\"\r\n                           width=\"220\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\"\r\n                         type=\"danger\"\r\n                         @click=\"deleteColumnNameMapperListItem(scope.$index)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <div v-show=\"active == 5\">\r\n        <el-descriptions size=\"small\"\r\n                         :column=\"1\"\r\n                         label-class-name=\"el-descriptions-item-label-class\"\r\n                         border>\r\n          <el-descriptions-item label=\"任务名称\">{{updateform.name}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"任务描述\">{{updateform.description}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"调度方式\">\r\n            <span v-if=\"updateform.scheduleMode == 'MANUAL'\">\r\n              手动执行\r\n            </span>\r\n            <span v-if=\"updateform.scheduleMode == 'SYSTEM_SCHEDULED'\">\r\n              系统调度\r\n            </span>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item v-if=\"updateform.scheduleMode == 'SYSTEM_SCHEDULED'\"\r\n                                label=\"CRON表达式\">{{updateform.cronExpression}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"源端数据源\">[{{updateform.sourceConnectionId}}]{{sourceConnection.name}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"源端schema\">{{updateform.sourceSchema}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"源端表选择方式\">\r\n            <span v-if=\"updateform.includeOrExclude == 'INCLUDE'\">\r\n              包含表\r\n            </span>\r\n            <span v-if=\"updateform.includeOrExclude == 'EXCLUDE'\">\r\n              排除表\r\n            </span>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"源端表名列表\">\r\n            <span v-show=\"updateform.includeOrExclude == 'INCLUDE' && (!updateform.sourceTables || updateform.sourceTables.length==0)\"><b>所有物理表</b></span>\r\n            <p v-for=\"item in updateform.sourceTables\"\r\n               v-bind:key=\"item\">{{item}}</p>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"目地端数据源\">[{{updateform.targetConnectionId}}]{{targetConnection.name}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"目地端schema\">{{updateform.targetSchema}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"数据处理批次量\">{{updateform.batchSize}}</el-descriptions-item>\r\n          <el-descriptions-item label=\"表名映射规则\">\r\n            <span v-show=\"!updateform.tableNameMapper || updateform.tableNameMapper.length==0\">[映射关系为空]</span>\r\n            <table v-if=\"updateform.tableNameMapper && updateform.tableNameMapper.length>0\"\r\n                   class=\"name-mapper-table\">\r\n              <tr>\r\n                <th>表名匹配的正则名</th>\r\n                <th>替换的目标值</th>\r\n              </tr>\r\n              <tr v-for='(item,index) in updateform.tableNameMapper'\r\n                  :key=\"index\">\r\n                <td>{{item['fromPattern']}}</td>\r\n                <td>{{item['toValue']}}</td>\r\n              </tr>\r\n            </table>\r\n          </el-descriptions-item>\r\n          <el-descriptions-item label=\"字段名映射规则\">\r\n            <span v-show=\"!updateform.columnNameMapper || updateform.columnNameMapper.length==0\">[映射关系为空]</span>\r\n            <table v-if=\"updateform.columnNameMapper && updateform.columnNameMapper.length>0\"\r\n                   class=\"name-mapper-table\">\r\n              <tr>\r\n                <th>字段名匹配的正则名</th>\r\n                <th>替换的目标值</th>\r\n              </tr>\r\n              <tr v-for='(item,index) in updateform.columnNameMapper'\r\n                  :key=\"index\">\r\n                <td>{{item['fromPattern']}}</td>\r\n                <td>{{item['toValue']}}</td>\r\n              </tr>\r\n            </table>\r\n          </el-descriptions-item>\r\n        </el-descriptions>\r\n      </div>\r\n\r\n    </el-form>\r\n\r\n    <el-button round\r\n               v-if=\"active > 1\"\r\n               style=\"margin-top: 12px\"\r\n               @click=\"pre\">\r\n      上一步\r\n    </el-button>\r\n    <el-button round\r\n               @click=\"next\"\r\n               v-if=\"active > 0 && active < 5\">\r\n      下一步\r\n    </el-button>\r\n    <el-button round\r\n               @click=\"handleSave\"\r\n               v-if=\"active == 5 && !can_go_back\">\r\n      提交\r\n    </el-button>\r\n    <el-button round\r\n               @click=\"handleGoBack\"\r\n               v-if=\"active == 5 && can_go_back\">\r\n      返回\r\n    </el-button>\r\n\r\n    <el-dialog v-if=\"active == 4\"\r\n               title=\"查看表名映射关系\"\r\n               :visible.sync=\"tableNameMapperDialogVisible\"\r\n               :showClose=\"false\"\r\n               :before-close=\"handleClose\">\r\n      <el-table :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\"\r\n                :data=\"tableNamesMapperData\"\r\n                size=\"mini\"\r\n                border>\r\n        <el-table-column prop=\"originalName\"\r\n                         label=\"源端表名\"\r\n                         min-width=\"20%\"></el-table-column>\r\n        <el-table-column prop=\"targetName\"\r\n                         label=\"目标表名\"\r\n                         min-width=\"20%\"></el-table-column>\r\n      </el-table>\r\n      <div slot=\"footer\"\r\n           class=\"dialog-footer\">\r\n        <el-button @click=\"tableNameMapperDialogVisible = false\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog v-if=\"active == 4\"\r\n               title=\"查看字段影射关系\"\r\n               :visible.sync=\"columnNameMapperDialogVisible\"\r\n               :showClose=\"false\"\r\n               :before-close=\"handleClose\">\r\n      <el-select @change=\"queryPreviewColumnNameMapperList\"\r\n                 v-model=\"preiveTableName\"\r\n                 placeholder=\"请选择\">\r\n        <el-option v-for=\"(item,index) in preiveSeeTableNameList\"\r\n                   :key=\"index\"\r\n                   :label=\"item\"\r\n                   :value=\"item\"></el-option>\r\n      </el-select>\r\n      <el-table :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\"\r\n                :data=\"columnNamesMapperData\"\r\n                size=\"mini\"\r\n                border>\r\n        <el-table-column prop=\"originalName\"\r\n                         label=\"原始字段名\"\r\n                         min-width=\"20%\"></el-table-column>\r\n        <el-table-column prop=\"targetName\"\r\n                         label=\"目标表字段名\"\r\n                         min-width=\"20%\"></el-table-column>\r\n      </el-table>\r\n      <div slot=\"footer\"\r\n           class=\"dialog-footer\">\r\n        <el-button @click=\"columnNameMapperDialogVisible = false\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  data () {\r\n    return {\r\n      cronPopover: false,\r\n      updateform: {\r\n        id: 0,\r\n        name: \"\",\r\n        description: \"\",\r\n        scheduleMode: \"MANUAL\",\r\n        cronExpression: \"\",\r\n        sourceConnectionId: '请选择',\r\n        sourceSchema: \"\",\r\n        includeOrExclude: \"\",\r\n        sourceTables: [],\r\n        tableNameMapper: [],\r\n        columnNameMapper: [],\r\n        targetConnectionId: '请选择',\r\n        targetDropTable: true,\r\n        targetSchema: \"\",\r\n        batchSize: 5000\r\n      },\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: \"任务名称不能为空\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        scheduleMode: [\r\n          {\r\n            required: true,\r\n            type: 'string',\r\n            message: \"调度方式必须选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        sourceConnectionId: [\r\n          {\r\n            required: true,\r\n            type: 'integer',\r\n            message: \"必选选择一个来源端\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        sourceSchema: [\r\n          {\r\n            required: true,\r\n            type: 'string',\r\n            message: \"必选选择一个Schema名\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        includeOrExclude: [\r\n          {\r\n            required: true,\r\n            type: 'string',\r\n            message: \"配置方式必须选择\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        sourceTables: [\r\n          {\r\n            required: false,\r\n            type: 'array',\r\n            message: \"必选选择一个Table名\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        targetConnectionId: [\r\n          {\r\n            required: true,\r\n            type: 'integer',\r\n            message: \"必选选择一个目的端\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        targetSchema: [\r\n          {\r\n            required: true,\r\n            type: 'string',\r\n            message: \"必选选择一个Schema名\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        batchSize: [\r\n          {\r\n            required: true,\r\n            type: 'integer',\r\n            message: \"必选选择一个批大小\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n      can_go_back: true,\r\n      active: 5,\r\n      sourceConnection: {},\r\n      targetConnection: {},\r\n      sourceConnectionSchemas: [],\r\n      sourceSchemaTables: [],\r\n      targetConnectionSchemas: [],\r\n      tableNameMapperDialogVisible: false,\r\n      columnNameMapperDialogVisible: false,\r\n      tableNamesMapperData: [],\r\n      columnNamesMapperData: [],\r\n      preiveSeeTableNameList: [],\r\n      preiveTableName: \"\",\r\n    }\r\n  },\r\n  methods: {\r\n    handleClose (done) {\r\n    },\r\n    next () {\r\n      this.can_go_back = false;\r\n      if (this.active++ > 4) this.active = 5\r\n    },\r\n    pre () {\r\n      this.can_go_back = false;\r\n      if (this.active-- < 2) this.active = 1\r\n    },\r\n    handleGoBack () {\r\n      if (this.can_go_back) {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    loadConnections: function () {\r\n      this.connectionNameList = [];\r\n      this.$http({\r\n        method: \"GET\",\r\n        url: \"/dbswitch/admin/api/v1/connection/list/name\"\r\n      }).then(\r\n        res => {\r\n          if (0 === res.data.code) {\r\n            this.connectionNameList = res.data.data;\r\n          } else {\r\n            this.connectionNameList = [];\r\n            if (res.data.message) {\r\n              alert(\"加载任务列表失败:\" + res.data.message);\r\n            }\r\n          }\r\n        },\r\n        function () {\r\n          console.log(\"failed\");\r\n        }\r\n      );\r\n    },\r\n    loadAssignmentDetail: function () {\r\n      this.$http.get(\r\n        \"/dbswitch/admin/api/v1/assignment/detail/id/\" + this.$route.query.id\r\n      ).then(res => {\r\n        if (0 === res.data.code) {\r\n          let detail = res.data.data;\r\n          this.updateform = {\r\n            id: detail.id,\r\n            name: detail.name,\r\n            description: detail.description,\r\n            scheduleMode: detail.scheduleMode,\r\n            cronExpression: detail.cronExpression,\r\n            sourceConnectionId: detail.configuration.sourceConnectionId,\r\n            sourceSchema: detail.configuration.sourceSchema,\r\n            includeOrExclude: detail.configuration.includeOrExclude,\r\n            sourceTables: detail.configuration.sourceTables,\r\n            tableNameMapper: detail.configuration.tableNameMapper,\r\n            columnNameMapper: detail.configuration.columnNameMapper,\r\n            targetConnectionId: detail.configuration.targetConnectionId,\r\n            targetDropTable: detail.configuration.targetDropTable,\r\n            targetSchema: detail.configuration.targetSchema,\r\n            batchSize: detail.configuration.batchSize\r\n          }\r\n          this.selectChangedSourceConnection(this.updateform.sourceConnectionId)\r\n          this.selectUpdateChangedSourceSchema(this.updateform.sourceSchema)\r\n          this.selectChangedTargetConnection(this.updateform.targetConnectionId)\r\n        } else {\r\n          if (res.data.message) {\r\n            alert(\"查询任务失败,\" + res.data.message);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    changeUpdateCronExpression: function (value) {\r\n      this.updateform.cronExpression = value;\r\n    },\r\n    selectChangedSourceConnection: function (value) {\r\n      this.sourceConnection = this.connectionNameList.find(\r\n        (item) => {\r\n          return item.id === value;\r\n        });\r\n\r\n      this.sourceConnectionSchemas = [];\r\n      this.$http.get(\r\n        \"/dbswitch/admin/api/v1/connection/schemas/get/\" + value\r\n      ).then(res => {\r\n        if (0 === res.data.code) {\r\n          this.sourceConnectionSchemas = res.data.data;\r\n        } else {\r\n          this.$message.error(\"查询来源端数据库的Schema失败,\" + res.data.message);\r\n          this.sourceConnectionSchemas = [];\r\n        }\r\n      });\r\n    },\r\n    selectUpdateChangedSourceSchema: function (value) {\r\n      this.sourceSchemaTables = [];\r\n      this.$http.get(\r\n        \"/dbswitch/admin/api/v1/connection/tables/get/\" + this.updateform.sourceConnectionId + \"?schema=\" + value\r\n      ).then(res => {\r\n        if (0 === res.data.code) {\r\n          this.sourceSchemaTables = res.data.data;\r\n        } else {\r\n          this.$message.error(\"查询来源端数据库在制定Schema下的表列表失败,\" + res.data.message);\r\n          this.sourceSchemaTables = [];\r\n        }\r\n      });\r\n    },\r\n    selectChangedTargetConnection: function (value) {\r\n      this.targetConnection = this.connectionNameList.find(\r\n        (item) => {\r\n          return item.id === value;\r\n        });\r\n\r\n      this.targetConnectionSchemas = [];\r\n      this.$http.get(\r\n        \"/dbswitch/admin/api/v1/connection/schemas/get/\" + value\r\n      ).then(res => {\r\n        if (0 === res.data.code) {\r\n          this.targetConnectionSchemas = res.data.data;\r\n        } else {\r\n          this.$message.error(\"查询目的端数据库的Schema失败,\" + res.data.message);\r\n          this.targetConnectionSchemas = [];\r\n        }\r\n      });\r\n    },\r\n    addTableNameMapperListRow: function () {\r\n      if (!this.updateform.tableNameMapper) {\r\n        this.updateform.tableNameMapper = [];\r\n      }\r\n      this.updateform.tableNameMapper.push({ \"fromPattern\": \"\", \"toValue\": \"\" });\r\n    },\r\n    deleteTableNameMapperListItem: function (index) {\r\n      if (!this.updateform.tableNameMapper) {\r\n        this.updateform.tableNameMapper = [];\r\n      }\r\n      this.updateform.tableNameMapper.splice(index, 1);\r\n    },\r\n    previewTableNameMapList: function () {\r\n      if (this.updateform.sourceConnectionId <= 0 || !this.updateform.sourceSchema || this.updateform.sourceSchema.length == 0) {\r\n        alert(\"请选择源端数据源和源端模式名！\");\r\n        return;\r\n      }\r\n      this.$http({\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        url: \"/dbswitch/admin/api/v1/mapper/preview/table\",\r\n        data: JSON.stringify({\r\n          id: this.updateform.sourceConnectionId,\r\n          schemaName: this.updateform.sourceSchema,\r\n          isInclude: this.updateform.includeOrExclude == 'INCLUDE',\r\n          tableNames: this.updateform.sourceTables,\r\n          nameMapper: this.updateform.tableNameMapper,\r\n        })\r\n      }).then(res => {\r\n        if (0 === res.data.code) {\r\n          this.tableNamesMapperData = res.data.data;\r\n          this.tableNameMapperDialogVisible = true;\r\n        } else {\r\n          if (res.data.message) {\r\n            alert(res.data.message);\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n    addColumnNameMapperListRow: function () {\r\n      if (!this.updateform.columnNameMapper) {\r\n        this.updateform.columnNameMapper = [];\r\n      }\r\n      this.updateform.columnNameMapper.push({ \"fromPattern\": \"\", \"toValue\": \"\" });\r\n    },\r\n    deleteColumnNameMapperListItem: function (index) {\r\n      if (!this.updateform.columnNameMapper) {\r\n        this.updateform.columnNameMapper = [];\r\n      }\r\n      this.updateform.columnNameMapper.splice(index, 1);\r\n    },\r\n    previewColumnNameMapList: function () {\r\n      if (!this.updateform.sourceConnectionId || this.updateform.sourceConnectionId <= 0\r\n        || !this.updateform.sourceSchema || this.updateform.sourceSchema.length == 0) {\r\n        alert(\"请选择【源端数据源】和【源端模式名】！\");\r\n        return;\r\n      }\r\n\r\n      if (!this.updateform.includeOrExclude) {\r\n        alert(\"请选择源端表选择的【配置方式】！\");\r\n        return;\r\n      }\r\n\r\n      if (this.updateform.includeOrExclude == \"INCLUDE\") {\r\n        if (this.updateform.sourceTables && this.updateform.sourceTables.length > 0) {\r\n          this.preiveSeeTableNameList = this.updateform.sourceTables;\r\n        } else {\r\n          this.preiveSeeTableNameList = this.sourceSchemaTables;\r\n        }\r\n      } else {\r\n        if (this.updateform.sourceTables.length == 0) {\r\n          alert(\"请选择排除表的【表名配置】！\");\r\n          return;\r\n        }\r\n\r\n        // 排除表，求差集\r\n        this.preiveSeeTableNameList = JSON.parse(JSON.stringify(this.sourceSchemaTables));\r\n        for (var i = 0; i < this.updateform.sourceTables.length; ++i) {\r\n          var one = this.updateform.sourceTables[i];\r\n          this.preiveSeeTableNameList.some((item, index) => {\r\n            if (item == one) {\r\n              this.preiveSeeTableNameList.splice(index, 1)\r\n              return true;\r\n            }\r\n          })\r\n        }\r\n      }\r\n\r\n      this.preiveTableName = \"\";\r\n      this.columnNamesMapperData = [];\r\n      this.columnNameMapperDialogVisible = true;\r\n    },\r\n    queryPreviewColumnNameMapperList: function () {\r\n      if (!this.preiveSeeTableNameList || this.preiveSeeTableNameList.length == 0) {\r\n        alert(\"请在源端配置【表名配置】！\");\r\n        return;\r\n      }\r\n\r\n      if (!this.preiveTableName || this.preiveTableName.length == 0) {\r\n        alert(\"请选择一个表名！\");\r\n        return;\r\n      }\r\n\r\n      this.$http({\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        url: \"/dbswitch/admin/api/v1/mapper/preview/column\",\r\n        data: JSON.stringify({\r\n          id: this.updateform.sourceConnectionId,\r\n          schemaName: this.updateform.sourceSchema,\r\n          isInclude: this.updateform.includeOrExclude == 'INCLUDE',\r\n          tableName: this.preiveTableName,\r\n          nameMapper: this.updateform.columnNameMapper,\r\n        })\r\n      }).then(res => {\r\n        if (0 === res.data.code) {\r\n          this.columnNamesMapperData = res.data.data;\r\n        } else {\r\n          if (res.data.message) {\r\n            alert(res.data.message);\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n    handleSave: function () {\r\n      this.$refs['updateform'].validate(valid => {\r\n        if (valid) {\r\n          this.$http({\r\n            method: \"POST\",\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            url: \"/dbswitch/admin/api/v1/assignment/update\",\r\n            data: JSON.stringify({\r\n              id: this.$route.query.id,\r\n              name: this.updateform.name,\r\n              description: this.updateform.description,\r\n              scheduleMode: this.updateform.scheduleMode,\r\n              cronExpression: this.updateform.cronExpression,\r\n              config: {\r\n                sourceConnectionId: this.updateform.sourceConnectionId,\r\n                sourceSchema: this.updateform.sourceSchema,\r\n                includeOrExclude: this.updateform.includeOrExclude,\r\n                sourceTables: this.updateform.sourceTables,\r\n                targetConnectionId: this.updateform.targetConnectionId,\r\n                targetSchema: this.updateform.targetSchema,\r\n                tableNameMapper: this.updateform.tableNameMapper,\r\n                columnNameMapper: this.updateform.columnNameMapper,\r\n                targetDropTable: true,\r\n                batchSize: this.updateform.batchSize\r\n              }\r\n            })\r\n          }).then(res => {\r\n            if (0 === res.data.code) {\r\n              this.$message(\"修改任务成功\");\r\n              this.$router.push('/task/assignment')\r\n            } else {\r\n              if (res.data.message) {\r\n                alert(res.data.message);\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          alert(\"请点击【上一步】检查输入\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created () {\r\n    this.loadConnections();\r\n    this.loadAssignmentDetail();\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-card {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n.tip-content {\r\n  font-size: 12px;\r\n}\r\n\r\n.name-mapper-table,\r\n.name-mapper-table table tr th,\r\n.name-mapper-table table tr td {\r\n  border-collapse: collapse;\r\n  border: 1px solid #e0dddd;\r\n  width: 100%;\r\n}\r\n\r\n.el-descriptions__body\r\n  .el-descriptions__table\r\n  .el-descriptions-row\r\n  .el-descriptions-item__label {\r\n  min-width: 20px;\r\n  max-width: 60px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/task/update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('el-steps',{attrs:{\"active\":_vm.active,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"基本信息配置\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"同步源端配置\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"目标端配置\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"映射转换配置\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"配置确认提交\"}})],1),_vm._v(\" \"),_c('el-form',{ref:\"updateform\",attrs:{\"model\":_vm.updateform,\"status-icon\":\"\",\"rules\":_vm.rules}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 1),expression:\"active == 1\"}]},[_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"名称\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.updateform.name),callback:function ($$v) {_vm.$set(_vm.updateform, \"name\", $$v)},expression:\"updateform.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"描述\",\"label-width\":\"240px\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"auto-complete\":\"off\"},model:{value:(_vm.updateform.description),callback:function ($$v) {_vm.$set(_vm.updateform, \"description\", $$v)},expression:\"updateform.description\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"调度方式\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"scheduleMode\"}},[_c('el-select',{model:{value:(_vm.updateform.scheduleMode),callback:function ($$v) {_vm.$set(_vm.updateform, \"scheduleMode\", $$v)},expression:\"updateform.scheduleMode\"}},[_c('el-option',{attrs:{\"label\":\"手动调度\",\"value\":\"MANUAL\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"系统调度\",\"value\":\"SYSTEM_SCHEDULED\"}})],1)],1),_vm._v(\" \"),(_vm.updateform.scheduleMode=='SYSTEM_SCHEDULED')?_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"Cron表达式\",\"label-width\":\"240px\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-popover',{model:{value:(_vm.cronPopover),callback:function ($$v) {_vm.cronPopover=$$v},expression:\"cronPopover\"}},[_c('vueCron',{attrs:{\"i18n\":\"cn\"},on:{\"change\":_vm.changeUpdateCronExpression,\"close\":function($event){_vm.cronPopover=false}}}),_vm._v(\" \"),_c('el-input',{attrs:{\"slot\":\"reference\",\"disabled\":false,\"placeholder\":\"点击选择\"},on:{\"click\":function($event){_vm.cronPopover=true}},slot:\"reference\",model:{value:(_vm.updateform.cronExpression),callback:function ($$v) {_vm.$set(_vm.updateform, \"cronExpression\", $$v)},expression:\"updateform.cronExpression\"}})],1)],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 2),expression:\"active == 2\"}]},[_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"源端数据源\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"sourceConnectionId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectChangedSourceConnection},model:{value:(_vm.updateform.sourceConnectionId),callback:function ($$v) {_vm.$set(_vm.updateform, \"sourceConnectionId\", $$v)},expression:\"updateform.sourceConnectionId\"}},_vm._l((_vm.connectionNameList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":(\"[\" + (item.id) + \"]\" + (item.name)),\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"源端模式名\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"sourceSchema\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectUpdateChangedSourceSchema},model:{value:(_vm.updateform.sourceSchema),callback:function ($$v) {_vm.$set(_vm.updateform, \"sourceSchema\", $$v)},expression:\"updateform.sourceSchema\"}},_vm._l((_vm.sourceConnectionSchemas),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"配置方式\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"includeOrExclude\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择配置方式\"},model:{value:(_vm.updateform.includeOrExclude),callback:function ($$v) {_vm.$set(_vm.updateform, \"includeOrExclude\", $$v)},expression:\"updateform.includeOrExclude\"}},[_c('el-option',{attrs:{\"label\":\"包含表\",\"value\":\"INCLUDE\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"排除表\",\"value\":\"EXCLUDE\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"表名配置\",\"label-width\":\"240px\",\"required\":false,\"prop\":\"sourceTables\"}},[_c('el-tooltip',{attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\n            当为包含表时，选择所要精确包含的表名，如果不选则代表选择所有；当为排除表时，选择索要精确排除的表名。\\n          \")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-question\"})]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择表名\",\"multiple\":\"\"},model:{value:(_vm.updateform.sourceTables),callback:function ($$v) {_vm.$set(_vm.updateform, \"sourceTables\", $$v)},expression:\"updateform.sourceTables\"}},_vm._l((_vm.sourceSchemaTables),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 3),expression:\"active == 3\"}]},[_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"目的端数据源\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"targetConnectionId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectChangedTargetConnection},model:{value:(_vm.updateform.targetConnectionId),callback:function ($$v) {_vm.$set(_vm.updateform, \"targetConnectionId\", $$v)},expression:\"updateform.targetConnectionId\"}},_vm._l((_vm.connectionNameList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":(\"[\" + (item.id) + \"]\" + (item.name)),\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"目的端模式名\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"targetSchema\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateform.targetSchema),callback:function ($$v) {_vm.$set(_vm.updateform, \"targetSchema\", $$v)},expression:\"updateform.targetSchema\"}},_vm._l((_vm.targetConnectionSchemas),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"65%\"},attrs:{\"label\":\"数据处理批次大小\",\"label-width\":\"240px\",\"required\":true,\"prop\":\"batchSize\"}},[_c('el-tooltip',{attrs:{\"placement\":\"top\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"\\n            数据同步时单个批次处理的行记录总数，该值越到越占用内存空间。建议：小字段表设置为10000，大字段表设置为1000\\n          \")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-question\"})]),_vm._v(\" \"),_c('el-select',{model:{value:(_vm.updateform.batchSize),callback:function ($$v) {_vm.$set(_vm.updateform, \"batchSize\", $$v)},expression:\"updateform.batchSize\"}},[_c('el-option',{attrs:{\"label\":\"1000\",\"value\":1000}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"5000\",\"value\":5000}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"10000\",\"value\":10000}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"20000\",\"value\":20000}})],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 4),expression:\"active == 4\"}]},[_c('div',{staticClass:\"tip-content\"},[_c('p',[_vm._v(\"说明：(1) 当表名映射规则记录为空时，代表目标表名与源表名的名称相同;\")]),_vm._v(\" \"),_c('p',[_vm._v(\"          \\n          (2) 当字段名映射规则记录为空时，代表目标表的字段名与源表名的字段名相同\")])]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":function($event){return _vm.addTableNameMapperListRow()}}},[_vm._v(\"添加表名映射\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":function($event){return _vm.previewTableNameMapList()}}},[_vm._v(\"预览表名映射\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"90%\",\"margin-top\":\"15px\"},attrs:{\"data\":_vm.updateform.tableNameMapper,\"size\":\"mini\",\"border\":\"\",\"height\":\"200\"}},[_c('template',{slot:\"empty\"},[_c('span',[_vm._v(\"请点击\\\"添加表名映射\\\"按钮添加表名映射关系记录\")])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"表名匹配的正则名\",\"width\":\"320\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"string\"},model:{value:(scope.row.fromPattern),callback:function ($$v) {_vm.$set(scope.row, \"fromPattern\", $$v)},expression:\"scope.row.fromPattern\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"替换的目标值\",\"width\":\"320\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"string\"},model:{value:(scope.row.toValue),callback:function ($$v) {_vm.$set(scope.row, \"toValue\", $$v)},expression:\"scope.row.toValue\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteTableNameMapperListItem(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],2),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":function($event){return _vm.addColumnNameMapperListRow()}}},[_vm._v(\"添加字段名映射\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":function($event){return _vm.previewColumnNameMapList()}}},[_vm._v(\"预览字段名映射\")]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"90%\",\"margin-top\":\"15px\"},attrs:{\"data\":_vm.datas = _vm.updateform.columnNameMapper,\"size\":\"mini\",\"border\":\"\",\"height\":\"200\"}},[_c('template',{slot:\"empty\"},[_c('span',[_vm._v(\"请点击\\\"添加字段名映射\\\"按钮添加字段名映射关系记录\")])]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"字段名匹配的正则名\",\"width\":\"320\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"string\"},model:{value:(scope.row.fromPattern),callback:function ($$v) {_vm.$set(scope.row, \"fromPattern\", $$v)},expression:\"scope.row.fromPattern\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"替换的目标值\",\"width\":\"320\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"string\"},model:{value:(scope.row.toValue),callback:function ($$v) {_vm.$set(scope.row, \"toValue\", $$v)},expression:\"scope.row.toValue\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteColumnNameMapperListItem(scope.$index)}}},[_vm._v(\"删除\")])]}}])})],2)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 5),expression:\"active == 5\"}]},[_c('el-descriptions',{attrs:{\"size\":\"small\",\"column\":1,\"label-class-name\":\"el-descriptions-item-label-class\",\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"任务名称\"}},[_vm._v(_vm._s(_vm.updateform.name))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"任务描述\"}},[_vm._v(_vm._s(_vm.updateform.description))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"调度方式\"}},[(_vm.updateform.scheduleMode == 'MANUAL')?_c('span',[_vm._v(\"\\n            手动执行\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.updateform.scheduleMode == 'SYSTEM_SCHEDULED')?_c('span',[_vm._v(\"\\n            系统调度\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.updateform.scheduleMode == 'SYSTEM_SCHEDULED')?_c('el-descriptions-item',{attrs:{\"label\":\"CRON表达式\"}},[_vm._v(_vm._s(_vm.updateform.cronExpression))]):_vm._e(),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"源端数据源\"}},[_vm._v(\"[\"+_vm._s(_vm.updateform.sourceConnectionId)+\"]\"+_vm._s(_vm.sourceConnection.name))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"源端schema\"}},[_vm._v(_vm._s(_vm.updateform.sourceSchema))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"源端表选择方式\"}},[(_vm.updateform.includeOrExclude == 'INCLUDE')?_c('span',[_vm._v(\"\\n            包含表\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.updateform.includeOrExclude == 'EXCLUDE')?_c('span',[_vm._v(\"\\n            排除表\\n          \")]):_vm._e()]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"源端表名列表\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.updateform.includeOrExclude == 'INCLUDE' && (!_vm.updateform.sourceTables || _vm.updateform.sourceTables.length==0)),expression:\"updateform.includeOrExclude == 'INCLUDE' && (!updateform.sourceTables || updateform.sourceTables.length==0)\"}]},[_c('b',[_vm._v(\"所有物理表\")])]),_vm._v(\" \"),_vm._l((_vm.updateform.sourceTables),function(item){return _c('p',{key:item},[_vm._v(_vm._s(item))])})],2),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"目地端数据源\"}},[_vm._v(\"[\"+_vm._s(_vm.updateform.targetConnectionId)+\"]\"+_vm._s(_vm.targetConnection.name))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"目地端schema\"}},[_vm._v(_vm._s(_vm.updateform.targetSchema))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"数据处理批次量\"}},[_vm._v(_vm._s(_vm.updateform.batchSize))]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"表名映射规则\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.updateform.tableNameMapper || _vm.updateform.tableNameMapper.length==0),expression:\"!updateform.tableNameMapper || updateform.tableNameMapper.length==0\"}]},[_vm._v(\"[映射关系为空]\")]),_vm._v(\" \"),(_vm.updateform.tableNameMapper && _vm.updateform.tableNameMapper.length>0)?_c('table',{staticClass:\"name-mapper-table\"},[_c('tr',[_c('th',[_vm._v(\"表名匹配的正则名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"替换的目标值\")])]),_vm._v(\" \"),_vm._l((_vm.updateform.tableNameMapper),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item['fromPattern']))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item['toValue']))])])})],2):_vm._e()]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"字段名映射规则\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.updateform.columnNameMapper || _vm.updateform.columnNameMapper.length==0),expression:\"!updateform.columnNameMapper || updateform.columnNameMapper.length==0\"}]},[_vm._v(\"[映射关系为空]\")]),_vm._v(\" \"),(_vm.updateform.columnNameMapper && _vm.updateform.columnNameMapper.length>0)?_c('table',{staticClass:\"name-mapper-table\"},[_c('tr',[_c('th',[_vm._v(\"字段名匹配的正则名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"替换的目标值\")])]),_vm._v(\" \"),_vm._l((_vm.updateform.columnNameMapper),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item['fromPattern']))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item['toValue']))])])})],2):_vm._e()])],1)],1)]),_vm._v(\" \"),(_vm.active > 1)?_c('el-button',{staticStyle:{\"margin-top\":\"12px\"},attrs:{\"round\":\"\"},on:{\"click\":_vm.pre}},[_vm._v(\"\\n    上一步\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.active > 0 && _vm.active < 5)?_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"\\n    下一步\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.active == 5 && !_vm.can_go_back)?_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"\\n    提交\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.active == 5 && _vm.can_go_back)?_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.handleGoBack}},[_vm._v(\"\\n    返回\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.active == 4)?_c('el-dialog',{attrs:{\"title\":\"查看表名映射关系\",\"visible\":_vm.tableNameMapperDialogVisible,\"showClose\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.tableNameMapperDialogVisible=$event}}},[_c('el-table',{attrs:{\"header-cell-style\":{background:'#eef1f6',color:'#606266'},\"data\":_vm.tableNamesMapperData,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"originalName\",\"label\":\"源端表名\",\"min-width\":\"20%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"targetName\",\"label\":\"目标表名\",\"min-width\":\"20%\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.tableNameMapperDialogVisible = false}}},[_vm._v(\"关闭\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.active == 4)?_c('el-dialog',{attrs:{\"title\":\"查看字段影射关系\",\"visible\":_vm.columnNameMapperDialogVisible,\"showClose\":false,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.columnNameMapperDialogVisible=$event}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.queryPreviewColumnNameMapperList},model:{value:(_vm.preiveTableName),callback:function ($$v) {_vm.preiveTableName=$$v},expression:\"preiveTableName\"}},_vm._l((_vm.preiveSeeTableNameList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-table',{attrs:{\"header-cell-style\":{background:'#eef1f6',color:'#606266'},\"data\":_vm.columnNamesMapperData,\"size\":\"mini\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"originalName\",\"label\":\"原始字段名\",\"min-width\":\"20%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"targetName\",\"label\":\"目标表字段名\",\"min-width\":\"20%\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.columnNameMapperDialogVisible = false}}},[_vm._v(\"关闭\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f1917c4c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/task/update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f1917c4c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./update.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f1917c4c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f1917c4c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/task/update.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}